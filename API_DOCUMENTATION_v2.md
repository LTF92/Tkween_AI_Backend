# ๐ ุชูุซูู API ุชูููู ููุดุนุฑ ุงูุนุฑุจู
# Tkween Arabic Poetry API Documentation

**ุงูุฅุตุฏุงุฑ:** 2.0  
**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 19 ุฏูุณูุจุฑ 2025  
**Base URL:** `https://api.tkween.co`

---

## ๐ ุงูุชุบููุฑุงุช ุนู ุงูุฅุตุฏุงุฑ ุงูุณุงุจู

| ุงูุจูุฏ | ุงูุฅุตุฏุงุฑ ุงููุฏูู | ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ |
|-------|---------------|----------------|
| ุญูู ุงูููุถูุน | `topic` | `title` โจ |
| ุชูุงุตูู ุฅุถุงููุฉ | โ ุบูุฑ ููุฌูุฏ | `title_details` โจ |
| ุงูุชุญูู | `verification` object | โ ุฃูุบู |
| ุงูุงุณุชุฌุงุจุฉ | ุชุญุชูู `topic` | ุชุญุชูู `title` |

---

## ๐ ููุงุท ุงูููุงูุฉ (Endpoints)

### 1๏ธโฃ ุฅูุดุงุก ูุตูุฏุฉ ุฌุฏูุฏุฉ

```
POST /poems
```

#### ุงูุทูุจ (Request):

```json
{
  "choice": "ุฅูุดุงุก ูุตูุฏุฉ",
  "title": "ุนููุงู ุงููุตูุฏุฉ",
  "title_details": "ุชูุงุตูู ุฅุถุงููุฉ ุนู ุงููุตูุฏุฉ (ุงุฎุชูุงุฑู)",
  "verses_count": 4,
  "meter": "ุงูุทููู"
}
```

#### ุงูุญููู:

| ุงูุญูู | ุงูููุน | ูุทููุจ | ุงููุตู |
|-------|-------|-------|-------|
| `choice` | string | โ | ุงููููุฉ: `"ุฅูุดุงุก ูุตูุฏุฉ"` |
| `title` | string | โ | ุนููุงู/ููุถูุน ุงููุตูุฏุฉ |
| `title_details` | string | โ | ุชูุงุตูู ุฅุถุงููุฉ (ุณูุงูุ ูุดุงุนุฑุ ููุงุณุจุฉ) |
| `verses_count` | integer | โ | ุนุฏุฏ ุงูุฃุจูุงุช (1-20) |
| `meter` | string | โ | ุงูุจุญุฑ ุงูุดุนุฑู |

#### ุงูุจุญูุฑ ุงููุชุงุญุฉ:
- ุงูุทููู
- ุงูุจุณูุท
- ุงููุงูู
- ุงููุงูุฑ
- ุงูุฎููู
- ุงูุฑูู
- ุงููุชูุงุฑุจ
- ุงูุณุฑูุน
- ุงูููุณุฑุญ
- ุงููุชุฏุงุฑู

#### ุงูุงุณุชุฌุงุจุฉ (Response):

```json
{
  "title": "ุนููุงู ุงููุตูุฏุฉ",
  "verses": [
    "ุงูุตุฏุฑ ุงูุฃูู    ุงูุนุฌุฒ ุงูุฃูู",
    "ุงูุตุฏุฑ ุงูุซุงูู    ุงูุนุฌุฒ ุงูุซุงูู",
    "ุงูุตุฏุฑ ุงูุซุงูุซ    ุงูุนุฌุฒ ุงูุซุงูุซ",
    "ุงูุตุฏุฑ ุงูุฑุงุจุน    ุงูุนุฌุฒ ุงูุฑุงุจุน"
  ],
  "meter": "ุงูุทููู"
}
```

#### ูุซุงู ูุงูู:

```bash
curl -X POST "https://api.tkween.co/poems" \
  -H "Content-Type: application/json" \
  -d '{
    "choice": "ุฅูุดุงุก ูุตูุฏุฉ",
    "title": "ุงููุทู",
    "title_details": "ูุตูุฏุฉ ุญูุงุณูุฉ ุนู ุญุจ ุงููุทู ูุงูุงูุชูุงุก",
    "verses_count": 4,
    "meter": "ุงููุงูู"
  }'
```

---

### 2๏ธโฃ ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```
POST /poems
```

#### ุงูุทูุจ (Request):

```json
{
  "choice": "ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ",
  "title": "ููุถูุน ุงูุจุญุซ",
  "verses_count": 4,
  "meter": "ุงูุทููู",
  "poet": "ุงููุชูุจู"
}
```

#### ุงูุญููู:

| ุงูุญูู | ุงูููุน | ูุทููุจ | ุงููุตู |
|-------|-------|-------|-------|
| `choice` | string | โ | ุงููููุฉ: `"ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ"` |
| `title` | string | โ | ููุถูุน ุงูุจุญุซ (ุงูุญุจุ ุงููุฑุงูุ ุงูุญููุฉ...) |
| `title_details` | string | โ | ุบูุฑ ูุณุชุฎุฏู ูู ุงูุงุณุชุดูุงุฏ |
| `verses_count` | integer | โ | ุนุฏุฏ ุงูุฃุจูุงุช ุงููุทููุจุฉ |
| `meter` | string | โ | ููุชุฑุฉ ุญุณุจ ุงูุจุญุฑ |
| `poet` | string | โ | ููุชุฑุฉ ุญุณุจ ุงุณู ุงูุดุงุนุฑ |

#### ุงูุงุณุชุฌุงุจุฉ (Response):

```json
{
  "title": "ุนููุงู ุงููุตูุฏุฉ ุงูุฃุตูู",
  "verses": [
    "ุงูุจูุช ุงูุฃูู",
    "ุงูุจูุช ุงูุซุงูู",
    "ุงูุจูุช ุงูุซุงูุซ",
    "ุงูุจูุช ุงูุฑุงุจุน"
  ],
  "meter": "ุงูุทููู",
  "poet": "ุงููุชูุจู",
  "poet_era": "ุงูุนุตุฑ ุงูุนุจุงุณู",
  "theme": "ุงูุญููุฉ"
}
```

#### ูุซุงู ูุงูู:

```bash
curl -X POST "https://api.tkween.co/poems" \
  -H "Content-Type: application/json" \
  -d '{
    "choice": "ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ",
    "title": "ุงูุญููุฉ ูุงูููุณูุฉ",
    "verses_count": 3,
    "poet": "ุงููุชูุจู"
  }'
```

---

### 3๏ธโฃ ุฅุญุตุงุฆูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

```
GET /stats
```

#### ุงูุงุณุชุฌุงุจุฉ:

```json
{
  "total_poems": 254577,
  "database_path": "./arabic_poems_db",
  "dataset_source": "arbml/ashaar (Hugging Face)",
  "features": ["ุงูุจุญุซ ุงูุฏูุงูู", "ููุชุฑุฉ ุญุณุจ ุงูุดุงุนุฑ", "ููุชุฑุฉ ุญุณุจ ุงูุจุญุฑ"]
}
```

---

### 4๏ธโฃ ูุนูููุงุช API

```
GET /
```

#### ุงูุงุณุชุฌุงุจุฉ:

```json
{
  "message": "ูุฑุญุจุงู ุจู ูู API ุงููุตุงุฆุฏ ุงูุนุฑุจูุฉ",
  "endpoints": {
    "POST /poems": "ุฅูุดุงุก ูุตูุฏุฉ ุฃู ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ"
  }
}
```

---

## ๐ ููุงุฐุฌ ุงูุจูุงูุงุช (TypeScript)

```typescript
// ุฃููุงุน ุงูุงุฎุชูุงุฑ
type PoemChoice = "ุฅูุดุงุก ูุตูุฏุฉ" | "ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ";

// ุทูุจ ุงููุตูุฏุฉ
interface PoemRequest {
  choice: PoemChoice;
  title: string;
  title_details?: string;  // ุงุฎุชูุงุฑู
  verses_count: number;
  meter?: string;          // ุงุฎุชูุงุฑู
  poet?: string;           // ููุงุณุชุดูุงุฏ ููุท
}

// ุงุณุชุฌุงุจุฉ ุฅูุดุงุก ูุตูุฏุฉ
interface CreatePoemResponse {
  title: string;
  verses: string[];
  meter: string;
}

// ุงุณุชุฌุงุจุฉ ุงูุงุณุชุดูุงุฏ
interface QuotePoemResponse {
  title: string;
  verses: string[];
  meter: string;
  poet: string;
  poet_era?: string;
  theme?: string;
}

// ุฅุญุตุงุฆูุงุช
interface StatsResponse {
  total_poems: number;
  database_path: string;
  dataset_source: string;
  features: string[];
}
```

---

## โ๏ธ ุฑููุฒ ุงูุฃุฎุทุงุก

| ุงูููุฏ | ุงููุตู |
|-------|-------|
| `200` | ูุฌุงุญ โ |
| `400` | ุฎุทุฃ ูู ุงูุจูุงูุงุช ุงููุฑุณูุฉ |
| `404` | ูู ูุชู ุงูุนุซูุฑ ุนูู ูุตุงุฆุฏ ูุทุงุจูุฉ |
| `422` | ุญูู ูุทููุจ ููููุฏ |
| `500` | ุฎุทุฃ ูู ุงูุฎุงุฏู |

#### ูุซุงู ุฎุทุฃ:

```json
{
  "detail": [
    {
      "type": "missing",
      "loc": ["body", "title"],
      "msg": "Field required"
    }
  ]
}
```

---

## ๐ง ุฅุนุฏุงุฏุงุช CORS

ุงูู Origins ุงููุณููุญุฉ:
- `https://tkween.pages.dev`
- `https://tkween.co`
- `https://www.tkween.co`
- `http://localhost:8080`
- `http://localhost:3000`
- `http://localhost:5173`

---

## ๐ ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ุฅูุดุงุก ูุตูุฏุฉ ุนู ุงูุญุจ

```javascript
const response = await fetch('https://api.tkween.co/poems', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    choice: 'ุฅูุดุงุก ูุตูุฏุฉ',
    title: 'ุงูุญุจ',
    title_details: 'ูุตูุฏุฉ ุบุฒููุฉ ุฑูููุฉ ุนู ุงูุดูู ูุงูุญููู',
    verses_count: 4,
    meter: 'ุงูุฎููู'
  })
});

const poem = await response.json();
console.log(poem.verses);
```

### ูุซุงู 2: ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ ูููุชูุจู

```javascript
const response = await fetch('https://api.tkween.co/poems', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    choice: 'ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ',
    title: 'ุงูุดุฌุงุนุฉ ูุงูุจุทููุฉ',
    verses_count: 3,
    poet: 'ุงููุชูุจู'
  })
});

const quote = await response.json();
console.log(`${quote.poet} - ${quote.title}`);
console.log(quote.verses.join('\n'));
```

---

## ๐ ุงูุฏุนู

ููุงุณุชูุณุงุฑุงุช ุงูุชูููุฉุ ุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

---

**ุขุฎุฑ ุชุญุฏูุซ:** 19 ุฏูุณูุจุฑ 2025

