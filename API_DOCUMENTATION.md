# ๐ ุชูุซูู API ุงููุตุงุฆุฏ ุงูุนุฑุจูุฉ

## ูุนูููุงุช ุนุงูุฉ

| ุงููุนูููุฉ | ุงููููุฉ |
|----------|--------|
| **Base URL** | `http://localhost:8000` |
| **ุงูุชูุซูู ุงูุชูุงุนูู** | `http://localhost:8000/docs` |
| **Content-Type** | `application/json` |

---

## ๐ ุงูู Endpoints

### 1๏ธโฃ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ

```
GET /
```

**Response:**
```json
{
  "message": "ูุฑุญุจุงู ุจู ูู API ุงููุตุงุฆุฏ ุงูุนุฑุจูุฉ",
  "endpoints": {
    "POST /poems": "ุฅูุดุงุก ูุตูุฏุฉ ุฃู ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ"
  }
}
```

---

### 2๏ธโฃ ุฅูุดุงุก ูุตูุฏุฉ ุฃู ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ

```
POST /poems
```

#### Request Body:

```json
{
  "choice": "ุฅูุดุงุก ูุตูุฏุฉ" | "ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ",
  "topic": "ููุถูุน ุงููุตูุฏุฉ",
  "verses_count": 4,
  "meter": "ุจุญุฑ ุงููุงูู",      // ุงุฎุชูุงุฑู
  "poet": "ุงููุชูุจู"           // ุงุฎุชูุงุฑู - ููุท ููุงุณุชุดูุงุฏ
}
```

#### Parameters:

| ุงูุญูู | ุงูููุน | ูุทููุจ | ุงููุตู |
|-------|-------|-------|-------|
| `choice` | string | โ | `"ุฅูุดุงุก ูุตูุฏุฉ"` ุฃู `"ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ"` |
| `topic` | string | โ | ููุถูุน ุงููุตูุฏุฉ (ูุซุงู: "ุงูุญุจ"ุ "ุงูุดูู ูููุทู") |
| `verses_count` | integer | โ | ุนุฏุฏ ุงูุฃุจูุงุช ุงููุทููุจุฉ |
| `meter` | string | โ | ุงูุจุญุฑ ุงูุดุนุฑู (ูุซุงู: "ุจุญุฑ ุงููุงูู"ุ "ุจุญุฑ ุงูุทููู") |
| `poet` | string | โ | ุงุณู ุงูุดุงุนุฑ - ููุท ุนูุฏ ุงูุงุณุชุดูุงุฏ (ูุซุงู: "ุงููุชูุจู") |

---

### ๐ Response: ุฅูุดุงุก ูุตูุฏุฉ

```json
{
  "verses": [
    "ุฃุดุชุงูู ูุง ูุทูู ุงูุฃุตุงูุฉู ูุงููููุจููู ** ูููุทูู ุงูุฃูุฌุงุฏู ูุงููุฎุฑู ุงููููููู",
    "ูู ููููู ุบุฑุจุชู ุฃููุงุฌููู ุจุงูุฏููุนุง ** ูุฃุจูู ูุนูุฏุชู ุฅูููู ุนูู ุนูุฌููู"
  ],
  "meter": "ุจุญุฑ ุงููุงูู",
  "topic": "ุงูุดูู ูููุทู",
  "verification": {
    "is_valid": true,
    "meter_check": "โ ููุฒููุฉ ุนูู ุจุญุฑ ุงููุงูู",
    "rhyme_check": "โ ุงููุงููุฉ ููุญุฏุฉ",
    "language_check": "โ ูุบุฉ ูุตูุญุฉ ุณูููุฉ",
    "issues": [],
    "attempts": 1
  }
}
```

#### Verification Object:

| ุงูุญูู | ุงูููุน | ุงููุตู |
|-------|-------|-------|
| `is_valid` | boolean | ูู ุงููุตูุฏุฉ ุตุญูุญุฉ ุงููุฒู ูุงููุงููุฉ |
| `meter_check` | string | ูุชูุฌุฉ ูุญุต ุงููุฒู |
| `rhyme_check` | string | ูุชูุฌุฉ ูุญุต ุงููุงููุฉ |
| `language_check` | string | ูุชูุฌุฉ ูุญุต ุงููุบุฉ |
| `issues` | array | ูุงุฆูุฉ ุจุงููุดุงูู ุฅู ูุฌุฏุช |
| `attempts` | integer | ุนุฏุฏ ูุญุงููุงุช ุงูุชูููุฏ (1-3) |

---

### ๐ Response: ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ

```json
{
  "verses": [
    "ุฃูุฑููููู ุฃูู ูุงุกู ุงูุบููุงููุฉู ุฃูู ุฎููุฑู",
    "ุจูููููู ุจูุฑูุฏู ููููู ูู ููุจูุฏู ุฌููุฑู",
    "ุฃูุฐุง ุงูุบูุตูู ุฃูู ุฐุง ุงูุฏูุนุตู ุฃูู ุฃููุชู ููุชููุฉู"
  ],
  "meter": "ุจุญุฑ ุงูุทููู",
  "topic": "ูุตูุฏุฉ ุนุงูู",
  "poet": "ุงููุชูุจู",
  "poet_era": "ุงูุนุตุฑ ุงูุนุจุงุณู",
  "title": "ุฃุฑููู ุฃู ูุงุก ุงูุบูุงูุฉ ุฃู ุฎูุฑ"
}
```

| ุงูุญูู | ุงูููุน | ุงููุตู |
|-------|-------|-------|
| `verses` | array | ุฃุจูุงุช ุงููุตูุฏุฉ |
| `meter` | string | ุงูุจุญุฑ ุงูุดุนุฑู |
| `topic` | string | ููุถูุน ุงููุตูุฏุฉ |
| `poet` | string | ุงุณู ุงูุดุงุนุฑ |
| `poet_era` | string | ุนุตุฑ ุงูุดุงุนุฑ |
| `title` | string | ุนููุงู ุงููุตูุฏุฉ |

---

### 3๏ธโฃ ุฅุญุตุงุฆูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

```
GET /stats
```

**Response:**
```json
{
  "total_poems": 254577,
  "database_path": "./arabic_poems_db",
  "dataset_source": "arbml/ashaar (Hugging Face)",
  "features": [
    "ุงูุจุญุซ ุงูุฏูุงูู",
    "ููุชุฑุฉ ุญุณุจ ุงูุดุงุนุฑ",
    "ููุชุฑุฉ ุญุณุจ ุงูุจุญุฑ"
  ]
}
```

---

## ๐ ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ุฅูุดุงุก ูุตูุฏุฉ ุนู ุงูุญุจ

```bash
curl -X POST "http://localhost:8000/poems" \
  -H "Content-Type: application/json" \
  -d '{
    "choice": "ุฅูุดุงุก ูุตูุฏุฉ",
    "topic": "ุงูุญุจ ูุงูุบุฑุงู",
    "verses_count": 4,
    "meter": "ุจุญุฑ ุงููุงูู"
  }'
```

### ูุซุงู 2: ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ ูููุชูุจู

```bash
curl -X POST "http://localhost:8000/poems" \
  -H "Content-Type: application/json" \
  -d '{
    "choice": "ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ",
    "topic": "ุงููุฎุฑ ูุงูุดุฌุงุนุฉ",
    "verses_count": 3,
    "poet": "ุงููุชูุจู"
  }'
```

### ูุซุงู 3: ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ ุนูู ุจุญุฑ ูุนูู

```bash
curl -X POST "http://localhost:8000/poems" \
  -H "Content-Type: application/json" \
  -d '{
    "choice": "ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ",
    "topic": "ุงูุทุจูุนุฉ",
    "verses_count": 5,
    "meter": "ุงูุทููู"
  }'
```

---

## ๐ญ ูุงุฆูุฉ ุงูุจุญูุฑ ุงููุชููุฑุฉ

| ุงูุจุญุฑ | ูุซุงู |
|-------|-------|
| ุจุญุฑ ุงูุทููู | ููุนููููู ูููุงุนููููู ููุนููููู ูููุงุนูููู |
| ุจุญุฑ ุงููุงูู | ููุชููุงุนูููู ููุชููุงุนูููู ููุชููุงุนูููู |
| ุจุญุฑ ุงูุจุณูุท | ููุณุชููุนูููู ูุงุนูููู ููุณุชููุนูููู ููุนูููู |
| ุจุญุฑ ุงููุงูุฑ | ูููุงุนูููุชูู ูููุงุนูููุชูู ููุนููููู |
| ุจุญุฑ ุงูุฎููู | ูุงุนููุงุชูู ููุณุชููุนูููู ูุงุนููุงุชูู |
| ุจุญุฑ ุงูุฑูู | ูุงุนููุงุชูู ูุงุนููุงุชูู ูุงุนููุงุชูู |
| ุจุญุฑ ุงูุณุฑูุน | ููุณุชููุนูููู ููุณุชููุนูููู ูุงุนูููู |
| ุจุญุฑ ุงููุชูุงุฑุจ | ููุนููููู ููุนููููู ููุนููููู ููุนููููู |

---

## ๐จโ๐ค ุฃุดูุฑ ุงูุดุนุฑุงุก ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

| ุงูุดุงุนุฑ | ุนุฏุฏ ุงููุตุงุฆุฏ | ุงูุนุตุฑ |
|--------|-------------|-------|
| ุงุจู ุงูุฑููู | 3,171 | ุงูุนุจุงุณู |
| ุฃุจู ุงูุนูุงุก ุงููุนุฑู | 2,184 | ุงูุนุจุงุณู |
| ุงูุจุญุชุฑู | 1,745 | ุงูุนุจุงุณู |
| ุงุจู ูุจุงุชู ุงููุตุฑู | 1,726 | ุงููููููู |
| ุงููุชูุจู | 458 | ุงูุนุจุงุณู |
| ุฃุจู ููุงุณ | - | ุงูุนุจุงุณู |
| ูุฒุงุฑ ูุจุงูู | - | ุงูุญุฏูุซ |

---

## โ๏ธ ุฑููุฒ ุงูุฃุฎุทุงุก

| ุงูููุฏ | ุงููุตู |
|-------|-------|
| `200` | ูุฌุงุญ |
| `404` | ูู ูุชู ุงูุนุซูุฑ ุนูู ูุตุงุฆุฏ ูุทุงุจูุฉ |
| `500` | ุฎุทุฃ ูู ุงูุฎุงุฏู |

**ูุซุงู ุนูู ุฎุทุฃ:**
```json
{
  "detail": "ูู ูุชู ุงูุนุซูุฑ ุนูู ูุตุงุฆุฏ ูุทุงุจูุฉ"
}
```

---

## ๐ง ููุงุญุธุงุช ูููุทูุฑ

1. **ููุฒุฉ ุงููุฑุงุฌุนุฉ:** ุนูุฏ ุฅูุดุงุก ูุตูุฏุฉุ ูุชู ูุฑุงุฌุนุชูุง ุชููุงุฆูุงู ููุชุญูู ูู ุงููุฒู ูุงููุงููุฉ
2. **ุฅุนุงุฏุฉ ุงููุญุงููุฉ:** ุฅุฐุง ูุดูุช ุงููุฑุงุฌุนุฉุ ูุชู ุฅุนุงุฏุฉ ุชูููุฏ/ุชุตุญูุญ ุงููุตูุฏุฉ (ุญุชู 3 ูุญุงููุงุช)
3. **ุงูุจุญุซ ุงูุฏูุงูู:** ุงูุจุญุซ ูุนุชูุฏ ุนูู ุงููุนูู ูููุณ ุงููููุงุช ุงูููุชุงุญูุฉ
4. **ุงูููุช ุงููุชููุน:** 
   - ุฅูุดุงุก ูุตูุฏุฉ: 5-15 ุซุงููุฉ
   - ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ: 3-10 ุซูุงูู

---

## ๐ฑ ูุซุงู TypeScript/JavaScript

```typescript
// ุฅูุดุงุก ูุตูุฏุฉ
async function createPoem(topic: string, versesCount: number, meter?: string) {
  const response = await fetch('http://localhost:8000/poems', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      choice: 'ุฅูุดุงุก ูุตูุฏุฉ',
      topic,
      verses_count: versesCount,
      meter,
    }),
  });
  return response.json();
}

// ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ
async function quotePoem(topic: string, versesCount: number, poet?: string) {
  const response = await fetch('http://localhost:8000/poems', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      choice: 'ุงุณุชุดูุงุฏ ุจูุตูุฏุฉ',
      topic,
      verses_count: versesCount,
      poet,
    }),
  });
  return response.json();
}

// ูุซุงู ุงูุงุณุชุฎุฏุงู
const poem = await createPoem('ุงูุญุจ', 4, 'ุจุญุฑ ุงููุงูู');
console.log(poem.verses);
console.log(poem.verification);
```

---

๐ **ุขุฎุฑ ุชุญุฏูุซ:** ุฏูุณูุจุฑ 2024

